<?xml version='1.0' encoding='UTF-8'?>
<matrix-project>
  <actions/>
  <description>Builds &lt;a href=&quot;http://wiki.eclipse.org/Sirius&quot;&gt;Sirius&lt;/a&gt;&#xd;
from &lt;a href=&quot;https://git.eclipse.org/r/#/&quot;&gt; a gerrit changeset&lt;/a&gt;&#xd;
on all supported target platforms.</description>
  <project-properties class="java.util.concurrent.ConcurrentHashMap">
    <entry>
      <string>hudson-plugins-dry-DryPublisher</string>
      <external-property>
        <propertyOverridden>false</propertyOverridden>
        <modified>false</modified>
      </external-property>
    </entry>
    <entry>
      <string>blockBuildWhenDownstreamBuilding</string>
      <boolean-property>
        <originalValue class="boolean">false</originalValue>
        <propertyOverridden>false</propertyOverridden>
      </boolean-property>
    </entry>
    <entry>
      <string>hudson-plugins-disk_usage-DiskUsageProperty</string>
      <base-property>
        <originalValue class="hudson.plugins.disk_usage.DiskUsageProperty"/>
        <propertyOverridden>false</propertyOverridden>
      </base-property>
    </entry>
    <entry>
      <string>logRotator</string>
      <log-rotator-property>
        <originalValue class="hudson.tasks.LogRotator">
          <daysToKeep>14</daysToKeep>
          <numToKeep>-1</numToKeep>
          <artifactDaysToKeep>-1</artifactDaysToKeep>
          <artifactNumToKeep>-1</artifactNumToKeep>
        </originalValue>
        <propertyOverridden>false</propertyOverridden>
      </log-rotator-property>
    </entry>
    <entry>
      <string>scmCheckoutRetryCount</string>
      <integer-property>
        <propertyOverridden>false</propertyOverridden>
      </integer-property>
    </entry>
    <entry>
      <string>blockBuildWhenUpstreamBuilding</string>
      <boolean-property>
        <originalValue class="boolean">false</originalValue>
        <propertyOverridden>false</propertyOverridden>
      </boolean-property>
    </entry>
    <entry>
      <string>hudson-plugins-git-GitPublisher</string>
      <external-property>
        <propertyOverridden>false</propertyOverridden>
        <modified>false</modified>
      </external-property>
    </entry>
    <entry>
      <string>org-hudsonci-maven-plugin-dependencymonitor-DependencyNotifier</string>
      <external-property>
        <propertyOverridden>false</propertyOverridden>
        <modified>false</modified>
      </external-property>
    </entry>
    <entry>
      <string>org-hudsonci-maven-plugin-artifactrecorder-ArtifactArchiver</string>
      <external-property>
        <propertyOverridden>false</propertyOverridden>
        <modified>false</modified>
      </external-property>
    </entry>
    <entry>
      <string>hudson-plugins-xvnc-Xvnc</string>
      <external-property>
        <originalValue class="hudson.plugins.xvnc.Xvnc">
          <takeScreenshot>false</takeScreenshot>
        </originalValue>
        <propertyOverridden>false</propertyOverridden>
        <modified>true</modified>
      </external-property>
    </entry>
    <entry>
      <string>axes</string>
      <axis-list-property>
        <originalValue class="hudson.matrix.AxisList">
          <hudson.matrix.TextAxis>
            <name>PLATFORM</name>
            <values>
              <string>juno</string>
              <string>kepler</string>
              <string>luna</string>
            </values>
          </hudson.matrix.TextAxis>
          <hudson.matrix.TextAxis>
            <name>SUITE</name>
            <values>
              <string>gerrit-junit</string>
              <string>gerrit-swtbot</string>
              <string>gerrit-swtbot-sequence</string>
            </values>
          </hudson.matrix.TextAxis>
        </originalValue>
        <propertyOverridden>false</propertyOverridden>
      </axis-list-property>
    </entry>
    <entry>
      <string>hudson-tasks-Mailer</string>
      <external-property>
        <originalValue class="hudson.tasks.Mailer">
          <recipients>pierre-charles.david@obeo.fr</recipients>
          <dontNotifyEveryUnstableBuild>false</dontNotifyEveryUnstableBuild>
          <sendToIndividuals>false</sendToIndividuals>
        </originalValue>
        <propertyOverridden>false</propertyOverridden>
        <modified>true</modified>
      </external-property>
    </entry>
    <entry>
      <string>hudson-tasks-test-AggregatedTestResultPublisher</string>
      <external-property>
        <propertyOverridden>false</propertyOverridden>
        <modified>true</modified>
      </external-property>
    </entry>
    <entry>
      <string>cleanWorkspaceRequired</string>
      <boolean-property>
        <originalValue class="boolean">false</originalValue>
        <propertyOverridden>false</propertyOverridden>
      </boolean-property>
    </entry>
    <entry>
      <string>combinationFilter</string>
      <string-property>
        <propertyOverridden>false</propertyOverridden>
      </string-property>
    </entry>
    <entry>
      <string>hudson-tasks-junit-JUnitResultArchiver</string>
      <external-property>
        <originalValue class="hudson.tasks.junit.JUnitResultArchiver">
          <testResults>plugins/*.test*/target/surefire-reports/*.xml</testResults>
          <keepLongStdio>false</keepLongStdio>
          <testDataPublishers/>
        </originalValue>
        <propertyOverridden>false</propertyOverridden>
        <modified>true</modified>
      </external-property>
    </entry>
    <entry>
      <string>hudson-tasks-Fingerprinter</string>
      <external-property>
        <propertyOverridden>false</propertyOverridden>
        <modified>false</modified>
      </external-property>
    </entry>
    <entry>
      <string>hudson-plugins-locksandlatches-LockWrapper</string>
      <external-property>
        <propertyOverridden>false</propertyOverridden>
        <modified>false</modified>
      </external-property>
    </entry>
    <entry>
      <string>hudson-plugins-analysis-collector-AnalysisPublisher</string>
      <external-property>
        <propertyOverridden>false</propertyOverridden>
        <modified>false</modified>
      </external-property>
    </entry>
    <entry>
      <string>parametersDefinitionProperties</string>
      <copy-write-list-property>
        <originalValue class="hudson.util.CopyOnWriteList">
          <hudson.model.ParametersDefinitionProperty>
            <parameterDefinitions>
              <hudson.model.StringParameterDefinition>
                <name>GERRIT_REFSPEC</name>
                <description></description>
                <defaultValue>refs/heads/master</defaultValue>
              </hudson.model.StringParameterDefinition>
            </parameterDefinitions>
          </hudson.model.ParametersDefinitionProperty>
        </originalValue>
        <propertyOverridden>false</propertyOverridden>
      </copy-write-list-property>
    </entry>
    <entry>
      <string>hudson-tasks-JavadocArchiver</string>
      <external-property>
        <propertyOverridden>false</propertyOverridden>
        <modified>false</modified>
      </external-property>
    </entry>
    <entry>
      <string>hudson-plugins-build_timeout-BuildTimeoutWrapper</string>
      <external-property>
        <propertyOverridden>false</propertyOverridden>
        <modified>false</modified>
      </external-property>
    </entry>
    <entry>
      <string>customWorkspace</string>
      <string-property>
        <propertyOverridden>false</propertyOverridden>
      </string-property>
    </entry>
    <entry>
      <string>quietPeriod</string>
      <integer-property>
        <propertyOverridden>false</propertyOverridden>
      </integer-property>
    </entry>
    <entry>
      <string>hudson-tasks-BuildTrigger</string>
      <external-property>
        <propertyOverridden>false</propertyOverridden>
        <modified>false</modified>
      </external-property>
    </entry>
    <entry>
      <string>hudson-triggers-SCMTrigger</string>
      <trigger-property>
        <propertyOverridden>false</propertyOverridden>
      </trigger-property>
    </entry>
    <entry>
      <string>builders</string>
      <describable-list-property>
        <originalValue class="hudson.util.DescribableList">
          <hudson.tasks.Shell>
            <command># Make sure the Xvnc server is completely started by looking for its output in the current job&apos;s console
wait_for_xvnc() {
    local readonly message=&quot;Listening for VNC connections on TCP port&quot;
    local readonly logFileURL=&quot;https://hudson.eclipse.org/sirius/job/sirius.gerrit/$BUILD_NUMBER/PLATFORM=$PLATFORM,SUITE=$SUITE/consoleText&quot;

    sleep 10

    local attempt=1
    while ! ( curl -s &quot;$logFileURL&quot; | grep -q &quot; $message &quot; ); do
        sleep 5
        if [ &quot;$attempt&quot; -gt &quot;4&quot; ]; then
            echo &quot;Xvnc not ready; abandonning.&quot;
            exit 1
        else
            attempt=$(( attempt + 1 ))
        fi
    done
}

# Make sure we have a properly configured window manager for SWTbot tests
start_window_manager() {
    /usr/bin/metacity --display=&quot;$DISPLAY&quot; --replace --sm-disable &amp;
    export WM_PID=&quot;$!&quot;
    sleep 1
    /usr/bin/metacity-message disable-keybindings
}

kill_window_manager() {
    if ps --pid &quot;$WM_PID&quot; -o pid,args | grep -q metacity ; then
        kill &quot;$WM_PID&quot;
    fi
}

# Create a well-formed but empty test report so that tests result
# publication does not fail even in the matrix cells where we do not
# actually run any tests.
create_dummy_test_report() {
    local readonly REPORT_DIR=&quot;$WORKSPACE/plugins/org.eclipse.sirius.tests.junit/target/surefire-reports&quot;
    local readonly REPORT=&apos;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;testrun name=&quot;Sirius Dummy Test Suite&quot; project=&quot;org.eclipse.sirius.tests.unit&quot; tests=&quot;1&quot; started=&quot;0&quot; failures=&quot;0&quot; errors=&quot;0&quot; ignored=&quot;1&quot;&gt;&lt;testsuite name=&quot;Sirius Dummy Tests&quot; time=&quot;0.001&quot;&gt;&lt;testcase name=&quot;testNothingJustToMakeHudsonHappy&quot; classname=&quot;org.eclipse.sirius.tests.unit.DummyTest&quot; time=&quot;0.01&quot;/&gt;&lt;/testsuite&gt;&lt;/testrun&gt;&apos;
    mkdir -p &quot;$REPORT_DIR&quot;
    echo  &quot;$REPORT&quot; &gt; &quot;$REPORT_DIR/empty-test-results.xml&quot;
}

# Adjust the target platform used to build/execute the tests to consume the local version of the core we just built
adjust_tests_target_platform() {
    if [ &quot;$GERRIT_BRANCH&quot; = &quot;master&quot; ]; then
        export STREAM=&quot;latest&quot;
    else
        export STREAM=$(echo &quot;$GERRIT_BRANCH&quot; | sed -e &apos;s/v//&apos;)
    fi
    sed -i -e &quot;s!http://download.eclipse.org/sirius/updates/nightly/$STREAM/$PLATFORM!file://$WORKSPACE/packaging/org.eclipse.sirius.update/target/repository!&quot; &quot;releng/org.eclipse.sirius.targets/sirius_tests_$PLATFORM.target&quot;
}

invoke_maven() {
    /shared/common/apache-maven-latest/bin/mvn -V -B -DBUILD_SIGN=false -Dmaven.repo.local=&quot;$WORKSPACE/.maven/repo&quot; -DPLATFORM=&quot;$PLATFORM&quot; -Dplatform-version-name=&quot;$PLATFORM&quot; &quot;$@&quot;
}

readonly REFERENCE_PLATFORM=&quot;luna&quot;
if [ &quot;$PLATFORM&quot; = &quot;$REFERENCE_PLATFORM&quot; -o &quot;$SUITE&quot; = &quot;gerrit-junit&quot; ]; then
    wait_for_xvnc
    start_window_manager

    # Build Sirius core
    invoke_maven -f packaging/org.eclipse.sirius.parent/pom.xml clean package

    # Build the tests, and run them on the reference platform
    if [ &quot;$GERRIT_BRANCH&quot; = &quot;master&quot; -a &quot;$PLATFORM&quot; = &quot;$REFERENCE_PLATFORM&quot; ]; then
        # Build and run Sirius tests
        adjust_tests_target_platform
        invoke_maven -f packaging/org.eclipse.sirius.tests.parent/pom.xml -P&quot;$SUITE&quot; clean integration-test
    else
        # Build Sirius tests but do not execute them
        adjust_tests_target_platform
        invoke_maven -f packaging/org.eclipse.sirius.tests.parent/pom.xml clean package
        create_dummy_test_report
    fi

    kill_window_manager
else
    create_dummy_test_report
fi
</command>
          </hudson.tasks.Shell>
        </originalValue>
        <propertyOverridden>false</propertyOverridden>
      </describable-list-property>
    </entry>
    <entry>
      <string>jdk</string>
      <string-property>
        <propertyOverridden>false</propertyOverridden>
      </string-property>
    </entry>
    <entry>
      <string>touchStoneResultCondition</string>
      <result-property>
        <propertyOverridden>false</propertyOverridden>
      </result-property>
    </entry>
    <entry>
      <string>appointedNode</string>
      <base-property>
        <propertyOverridden>false</propertyOverridden>
      </base-property>
    </entry>
    <entry>
      <string>hudson-tasks-ArtifactArchiver</string>
      <external-property>
        <propertyOverridden>false</propertyOverridden>
        <modified>false</modified>
      </external-property>
    </entry>
    <entry>
      <string>concurrentBuild</string>
      <boolean-property>
        <originalValue class="boolean">false</originalValue>
        <propertyOverridden>false</propertyOverridden>
      </boolean-property>
    </entry>
    <entry>
      <string>org-hudsonci-maven-plugin-dependencymonitor-DependencyTrigger</string>
      <trigger-property>
        <propertyOverridden>false</propertyOverridden>
      </trigger-property>
    </entry>
    <entry>
      <string>com-sonyericsson-hudson-plugins-gerrit-trigger-hudsontrigger-GerritTrigger</string>
      <trigger-property>
        <originalValue class="com.sonyericsson.hudson.plugins.gerrit.trigger.hudsontrigger.GerritTrigger">
          <spec></spec>
          <gerritProjects>
            <com.sonyericsson.hudson.plugins.gerrit.trigger.hudsontrigger.data.GerritProject>
              <compareType>ANT</compareType>
              <pattern>sirius/org.eclipse.sirius</pattern>
              <branches>
                <com.sonyericsson.hudson.plugins.gerrit.trigger.hudsontrigger.data.Branch>
                  <compareType>ANT</compareType>
                  <pattern>**</pattern>
                </com.sonyericsson.hudson.plugins.gerrit.trigger.hudsontrigger.data.Branch>
              </branches>
            </com.sonyericsson.hudson.plugins.gerrit.trigger.hudsontrigger.data.GerritProject>
          </gerritProjects>
          <silentMode>false</silentMode>
          <escapeQuotes>true</escapeQuotes>
          <buildStartMessage></buildStartMessage>
          <buildFailureMessage></buildFailureMessage>
          <buildSuccessfulMessage></buildSuccessfulMessage>
          <buildUnstableMessage></buildUnstableMessage>
          <buildNotBuiltMessage></buildNotBuiltMessage>
          <buildUnsuccessfulFilepath></buildUnsuccessfulFilepath>
          <customUrl></customUrl>
          <triggerOnEvents>
            <com.sonyericsson.hudson.plugins.gerrit.trigger.hudsontrigger.events.PluginPatchsetCreatedEvent/>
            <com.sonyericsson.hudson.plugins.gerrit.trigger.hudsontrigger.events.PluginDraftPublishedEvent/>
          </triggerOnEvents>
          <dynamicTriggerConfiguration>false</dynamicTriggerConfiguration>
          <triggerConfigURL></triggerConfigURL>
          <triggerInformationAction/>
        </originalValue>
        <propertyOverridden>false</propertyOverridden>
      </trigger-property>
    </entry>
    <entry>
      <string>runSequentially</string>
      <boolean-property>
        <originalValue class="boolean">false</originalValue>
        <propertyOverridden>false</propertyOverridden>
      </boolean-property>
    </entry>
    <entry>
      <string>hudson-plugins-timestamper-TimestamperBuildWrapper</string>
      <external-property>
        <originalValue class="hudson.plugins.timestamper.TimestamperBuildWrapper"/>
        <propertyOverridden>false</propertyOverridden>
        <modified>true</modified>
      </external-property>
    </entry>
    <entry>
      <string>hudson-plugins-parameterizedtrigger-BuildTrigger</string>
      <external-property>
        <propertyOverridden>false</propertyOverridden>
        <modified>false</modified>
      </external-property>
    </entry>
    <entry>
      <string>hudson-plugins-findbugs-FindBugsPublisher</string>
      <external-property>
        <propertyOverridden>false</propertyOverridden>
        <modified>false</modified>
      </external-property>
    </entry>
    <entry>
      <string>scm</string>
      <scm-property>
        <originalValue class="hudson.plugins.git.GitSCM">
          <configVersion>1</configVersion>
          <remoteRepositories>
            <RemoteConfig>
              <name>origin</name>
              <uris>
                <org.eclipse.jgit.transport.URIish>
                  <scheme>http</scheme>
                  <path>/gitroot/sirius/org.eclipse.sirius.git</path>
                  <rawPath>/gitroot/sirius/org.eclipse.sirius.git</rawPath>
                  <port>-1</port>
                  <host>git.eclipse.org</host>
                </org.eclipse.jgit.transport.URIish>
              </uris>
              <pushURIs/>
              <fetch>
                <org.eclipse.jgit.transport.RefSpec>
                  <force>false</force>
                  <wildcard>false</wildcard>
                  <srcName>$GERRIT_REFSPEC</srcName>
                </org.eclipse.jgit.transport.RefSpec>
              </fetch>
              <push/>
              <uploadpack>git-upload-pack</uploadpack>
              <receivepack>git-receive-pack</receivepack>
              <tagopt>AUTO_FOLLOW</tagopt>
              <mirror>false</mirror>
              <timeout>0</timeout>
              <relativeTargetDir></relativeTargetDir>
            </RemoteConfig>
          </remoteRepositories>
          <branches>
            <hudson.plugins.git.BranchSpec>
              <name>**</name>
            </hudson.plugins.git.BranchSpec>
          </branches>
          <mergeOptions/>
          <recursiveSubmodules>false</recursiveSubmodules>
          <doGenerateSubmoduleConfigurations>false</doGenerateSubmoduleConfigurations>
          <authorOrCommitter>false</authorOrCommitter>
          <clean>false</clean>
          <wipeOutWorkspace>false</wipeOutWorkspace>
          <pruneBranches>false</pruneBranches>
          <remotePoll>false</remotePoll>
          <ignoreNotifyCommit>false</ignoreNotifyCommit>
          <buildChooser class="com.sonyericsson.hudson.plugins.gerrit.trigger.hudsontrigger.GerritTriggerBuildChooser">
            <separator>#</separator>
          </buildChooser>
          <gitTool>Default</gitTool>
          <browser class="hudson.plugins.git.browser.CGit">
            <url>http://git.eclipse.org/c/sirius/org.eclipse.sirius.git/</url>
          </browser>
          <submoduleCfg class="list"/>
          <includedRegions></includedRegions>
          <excludedRegions></excludedRegions>
          <excludedUsers></excludedUsers>
          <excludedCommits/>
          <gitConfigName></gitConfigName>
          <gitConfigEmail></gitConfigEmail>
          <skipTag>false</skipTag>
        </originalValue>
        <propertyOverridden>false</propertyOverridden>
      </scm-property>
    </entry>
    <entry>
      <string>touchStoneCombinationFilter</string>
      <string-property>
        <propertyOverridden>false</propertyOverridden>
      </string-property>
    </entry>
    <entry>
      <string>org-hudsonci-maven-plugin-artifactrecorder-ArtifactFingerprinter</string>
      <external-property>
        <propertyOverridden>false</propertyOverridden>
        <modified>false</modified>
      </external-property>
    </entry>
    <entry>
      <string>hudson-triggers-TimerTrigger</string>
      <trigger-property>
        <propertyOverridden>false</propertyOverridden>
      </trigger-property>
    </entry>
  </project-properties>
  <keepDependencies>false</keepDependencies>
  <createdBy>cedric.brun@obeo.fr</createdBy>
  <creationTime>1379080828946</creationTime>
  <properties>
    <hudson.security.AuthorizationMatrixProperty>
      <permission>hudson.model.Run.Delete:cedric.brun@obeo.fr</permission>
      <permission>hudson.model.Item.Configure:cedric.brun@obeo.fr</permission>
      <permission>hudson.model.Run.Update:cedric.brun@obeo.fr</permission>
      <permission>hudson.model.Item.Read:cedric.brun@obeo.fr</permission>
      <permission>hudson.model.Item.Workspace:cedric.brun@obeo.fr</permission>
      <permission>hudson.model.Item.Build:cedric.brun@obeo.fr</permission>
      <permission>hudson.model.Item.Delete:cedric.brun@obeo.fr</permission>
    </hudson.security.AuthorizationMatrixProperty>
  </properties>
  <cascadingChildrenNames class="java.util.concurrent.CopyOnWriteArraySet"/>
  <cascading-job-properties class="java.util.concurrent.CopyOnWriteArraySet">
    <string>hudson-plugins-disk_usage-DiskUsageProperty</string>
  </cascading-job-properties>
  <scm class="hudson.scm.NullSCM"/>
  <canRoam>false</canRoam>
  <disabled>false</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <concurrentBuild>false</concurrentBuild>
  <cleanWorkspaceRequired>false</cleanWorkspaceRequired>
  <builders/>
  <axes/>
  <runSequentially>false</runSequentially>
</matrix-project>